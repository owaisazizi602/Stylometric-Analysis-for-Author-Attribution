{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "f7aff163",
   "metadata": {},
   "outputs": [],
   "source": [
    "import nltk\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "e87c9e75",
   "metadata": {},
   "outputs": [],
   "source": [
    "from nltk import pos_tag, word_tokenize, sent_tokenize\n",
    "from collections import Counter"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "cc2c2e41",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "[nltk_data] Downloading package punkt to /Users/owais/nltk_data...\n",
      "[nltk_data]   Package punkt is already up-to-date!\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "True"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "nltk.download('punkt')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "4003b55d",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "[nltk_data] Downloading package averaged_perceptron_tagger to\n",
      "[nltk_data]     /Users/owais/nltk_data...\n",
      "[nltk_data]   Package averaged_perceptron_tagger is already up-to-\n",
      "[nltk_data]       date!\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "True"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    " nltk.download('averaged_perceptron_tagger')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "8720eacd",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Average Sentence Length - Actual Author: 32.55\n",
      "Disputed Text 1: 13.727272727272727, Disputed Text 2: 32.0, Disputed Text 3: 57.470588235294116\n",
      "POS Frequency - Actual Author: {\"''\": 6.0, 'DT': 71.0, 'NN': 95.0, 'IN': 63.0, 'NNP': 25.0, ',': 53.0, 'WRB': 8.0, 'RB': 34.0, 'VBD': 38.0, 'VBG': 6.0, ':': 20.0, 'NNS': 20.0, 'VBN': 5.0, 'MD': 11.0, 'VB': 15.0, 'PRP$': 28.0, 'VBP': 7.0, 'CC': 32.0, 'PRP': 33.0, 'JJ': 31.0, 'POS': 1.0, 'RP': 4.0, 'TO': 16.0, 'WP': 2.0, '.': 20.0, 'CD': 1.0, 'RBR': 1.0, 'VBZ': 3.0, '``': 1.0, 'PDT': 1.0}\n",
      "Disputed Text 1: Counter({'NN': 29, ',': 18, 'DT': 14, 'NNP': 12, 'VB': 11, 'RB': 11, '.': 11, 'JJ': 9, 'IN': 7, 'MD': 4, 'TO': 4, 'VBZ': 4, 'NNS': 4, 'VBP': 3, 'WDT': 2, 'VBN': 2, 'CC': 1, 'PRP': 1, 'VBG': 1, 'UH': 1, 'WRB': 1, 'POS': 1})\n",
      "Disputed Text 2: Counter({'NN': 94, 'IN': 42, 'DT': 40, 'JJ': 29, 'CC': 29, 'NNS': 25, 'PRP$': 22, 'VBD': 22, ',': 21, 'MD': 21, 'NNP': 18, 'PRP': 17, '.': 16, 'RB': 16, 'VB': 14, 'VBP': 12, ':': 11, \"''\": 11, 'VBG': 8, 'VBN': 6, 'WP': 6, 'TO': 6, 'VBZ': 5, '``': 5, 'JJS': 4, 'POS': 2, 'WDT': 2, 'PDT': 1, 'WP$': 1, 'CD': 1, 'WRB': 1, 'RBR': 1, '(': 1, 'JJR': 1, ')': 1})\n",
      "Disputed Text 3: Counter({'NN': 180, 'NNP': 111, ',': 108, 'IN': 93, 'DT': 80, 'JJ': 76, 'CC': 61, 'NNS': 41, 'VBD': 28, 'RB': 25, 'PRP$': 23, 'VBZ': 21, ':': 21, '.': 17, 'VBN': 16, 'VB': 14, 'VBP': 11, 'TO': 9, 'PRP': 9, 'VBG': 5, 'WP': 5, 'WRB': 4, 'CD': 4, 'WDT': 3, 'JJS': 3, 'RP': 2, 'EX': 1, 'MD': 1, 'JJR': 1, 'NNPS': 1, '(': 1, ')': 1, 'WP$': 1})\n",
      "Punctuation - Actual Author: {',': 53.0, ';': 10.0, '.': 12.0, '!': 12.0}\n",
      "Punctuation - Disputed Text 1: Counter({',': 18, '.': 5, '!': 3, '?': 3})\n",
      "Punctuation - Disputed Text 2: Counter({',': 21, '.': 13, ';': 8, '!': 2, '?': 1})\n",
      "Punctuation - Disputed Text 3: Counter({',': 109, ';': 14, '.': 11, '!': 4, '?': 2})\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "[nltk_data] Downloading package punkt to /Users/owais/nltk_data...\n",
      "[nltk_data]   Package punkt is already up-to-date!\n",
      "[nltk_data] Downloading package averaged_perceptron_tagger to\n",
      "[nltk_data]     /Users/owais/nltk_data...\n",
      "[nltk_data]   Package averaged_perceptron_tagger is already up-to-\n",
      "[nltk_data]       date!\n"
     ]
    }
   ],
   "source": [
    "import nltk\n",
    "from nltk import pos_tag, word_tokenize, sent_tokenize\n",
    "from collections import Counter\n",
    "import statistics\n",
    "\n",
    "# Ensure that NLTK resources are downloaded (if not already)\n",
    "nltk.download('punkt')\n",
    "nltk.download('averaged_perceptron_tagger')\n",
    "\n",
    "\n",
    "actual_author_texts = [\n",
    "'''\n",
    "'Twas the night before Christmas, when all thro' the house,\n",
    "Not a creature was stirring, not even a mouse;\n",
    "The stockings were hung by the chimney with care,\n",
    "In hopes that St. Nicholas soon would be there;\n",
    "The children were nestled all snug in their beds,\n",
    "While visions of sugar plums danc'd in their heads,\n",
    "And Mama in her 'kerchief, and I in my cap,\n",
    "Had just settled our brains for a long winter's nap -\n",
    "When out on the lawn there arose such a clatter,\n",
    "I sprung from the bed to see what was the matter.\n",
    "Away to the window I flew like a flash,\n",
    "Tore open the shutters, and threw up the sash.\n",
    "The moon on the breast of the new fallen snow,\n",
    "Gave the lustre of mid-day to objects below;\n",
    "When, what to my wondering eyes should appear,\n",
    "But a minature sleigh, and eight tiny rein-deer,\n",
    "With a little old driver, so lively and quick,\n",
    "I knew in a moment it must be St. Nick.\n",
    "More rapid than eagles his coursers they came,\n",
    "And he whistled, and shouted, and call'd them by name:\n",
    "\"Now! Dasher, now! Dancer, now! Prancer, and Vixen,\n",
    "\"On! Comet, on! Cupid, on! Dunder and Blixem;\n",
    "\"To the top of the porch! to the top of the wall!\n",
    "\"Now dash away! dash away! dash away all!\"\n",
    "As dry leaves before the wild hurricane fly,\n",
    "When they meet with an obstacle, mount to the sky;\n",
    "So up to the house-top the coursers they flew,\n",
    "With the sleigh full of Toys - and St. Nicholas too:\n",
    "And then in a twinkling, I heard on the roof\n",
    "The prancing and pawing of each little hoof.\n",
    "As I drew in my head, and was turning around,\n",
    "Down the chimney St. Nicholas came with a bound:\n",
    "He was dress'd all in fur, from his head to his foot,\n",
    "And his clothes were all tarnish'd with ashes and soot;\n",
    "A bundle of toys was flung on his back,\n",
    "And he look'd like a peddler just opening his pack:\n",
    "His eyes - how they twinkled! his dimples how merry,\n",
    "His cheeks were like roses, his nose like a cherry;\n",
    "His droll little mouth was drawn up like a bow,\n",
    "And the beard of his chin was as white as the snow;\n",
    "The stump of a pipe he held tight in his teeth,\n",
    "And the smoke it encircled his head like a wreath.\n",
    "He had a broad face, and a little round belly\n",
    "That shook when he laugh'd, like a bowl full of jelly:\n",
    "He was chubby and plump, a right jolly old elf,\n",
    "And I laugh'd when I saw him in spite of myself;\n",
    "A wink of his eye and a twist of his head\n",
    "Soon gave me to know I had nothing to dread.\n",
    "He spoke not a word, but went straight to his work,\n",
    "And fill'd all the stockings; then turn'd with a jirk,\n",
    "And laying his finger aside of his nose\n",
    "And giving a nod, up the chimney he rose.\n",
    "He sprung to his sleigh, to his team gave a whistle,\n",
    "And away they all flew, like the down of a thistle:\n",
    "But I heard him exclaim, ere he drove out of sight -\n",
    "Happy Christmas to all, and to all a good night.\n",
    "'''\n",
    "]\n",
    "\n",
    "# Disputed texts\n",
    "disputed_text_1 = '''\n",
    "Sweet Maid, could wealth or power\n",
    "Thy heart to love incline,\n",
    "I would not bless the hour,\n",
    "The hour that calls thee mine.\n",
    "Ah! no, beneath the Heaven\n",
    "Blooms not so fair a flower\n",
    "As love that's freely given.\n",
    "Dear youth, have not these eyes,\n",
    "To thine so oft returning,\n",
    "Ah! say, have not these tell-tale sighs,\n",
    "These cheeks with blushes burning,\n",
    "My every thought bespoken?\n",
    "Do these denote disguise?\n",
    "Do these false love betoken?\n",
    "Oh! bliss, all bliss transcending,\n",
    "When souls congenial blending,\n",
    "The sacred flame inspire\n",
    "Of love's etherial fire.\n",
    "Such love, from change secure,\n",
    "For ever shall endure.\n",
    "True love like this, of heavenly birth,\n",
    "Not here confin'd to mortal earth,\n",
    "Shall to immortal Heaven aspire.\n",
    "\n",
    "'''\n",
    "disputed_text_2 = '''A vine from noblest lineage sprung\n",
    "And with the choicest clusters hung,\n",
    "In purple rob'd, reclining lay,\n",
    "And catch'd the noontide's fervid ray;\n",
    "The num'rous plants that deck the field\n",
    "Did all the palm of beauty yield;\n",
    "Pronounc'd her fairest of their train\n",
    "And hail'd her empress of the plain.\n",
    "A neighb'ring oak whose spiry height\n",
    "In low-hung clouds was hid from sight,\n",
    "Who dar'd a thousand howling storms;\n",
    "Conscious of worth, sublimely stood,\n",
    "The pride and glory of the wood.\n",
    "\n",
    "He saw her all defenseless lay\n",
    "To each invading beast a prey,\n",
    "And wish'd to clasp her in his arms\n",
    "And bear her far away from harms.\n",
    "'Twas love -- 'twas tenderness -- 'twas all\n",
    "That men the tender passion call.\n",
    "\n",
    "He urg'd his suit but urg'd in vain,\n",
    "The vine regardless of his pain\n",
    "Still flirted with each flippant green\n",
    "With seeing pleas'd, & being seen;\n",
    "And as the syren Flattery sang\n",
    "Would o'er the strains ecstatic hang;\n",
    "Enjoy'd the minutes as they rose\n",
    "Nor fears her bosom discompose.\n",
    "\n",
    "But now the boding clouds arise\n",
    "And scowling darkness veils the skies;\n",
    "Harsh thunders roar -- red lightnings gleam,\n",
    "And rushing torrents close the scene.\n",
    "\n",
    "The fawning, adulating crowd\n",
    "Who late in thronged xx bow'd\n",
    "Now left their goddess of a day\n",
    "To the O'erwhelming flood a prey,\n",
    "which swell'd a deluge poured around\n",
    "& tore her helpless from the ground;\n",
    "Her rifled foliage floated wide\n",
    "And ruby nectar ting'd the tide.\n",
    "\n",
    "With eager eyes and heart dismayed\n",
    "She look'd but look'd in vain for aid.\n",
    "\"And are my lovers fled,\" she cry'd,\n",
    "\"Who at my feet this morning sigh'd,\n",
    "\"And swore my reign would never end\n",
    "\"While youth and beauty had a friend?\n",
    "\"I am unhappy who believ'd!\n",
    "\"And they detested who deceived!\n",
    "\"Curse on that whim call'd maiden pride\n",
    "\"Which made me shun the name of bride\n",
    "\"When yonder oak confessed his flame\n",
    "\"And woo'd me in fair honor's name.\n",
    "\"But now repentance comes too late\n",
    "\"And all forlorn, I meet my fate.\"\n",
    "\n",
    "The oak who safely wav'd above\n",
    "Look'd down once more with eyes of love\n",
    "(Love higher wrought with pity join'd\n",
    "True mark of an exalted mind,)\n",
    "Declared her coldness could suspend\n",
    "But not his gen'rous passion end.\n",
    "Beg'd to renew his am'rous plea,\n",
    "As warm for union now as he,\n",
    "To his embraces quick she flew\n",
    "And felt & gave sensations new.\n",
    "\n",
    "Enrich'd & graced by the sweet prise\n",
    "He lifts her tendrils to the skies;\n",
    "Whilst she, protected and carest,\n",
    "Sinks in his arms completely blest.\n",
    "'''\n",
    "disputed_text_3 = '''Home of the Percy’s high-born race,\n",
    "Home of their beautiful and brave,\n",
    "Alike their birth and burial-place,\n",
    "Their cradle and their grave!\n",
    "Still sternly o’er the castle gate\n",
    "Their house’s Lion stands in state,\n",
    "As in his proud departed hours;\n",
    "And warriors frown in stone on high,\n",
    "And feudal banners “flout the sky”\n",
    "Above his princely towers.\n",
    "\n",
    "A gentle hill its side inclines,\n",
    "Lovely in England’s fadeless green,\n",
    "To meet the quiet stream which winds\n",
    "Through this romantic scene\n",
    "As silently and sweetly still,\n",
    "As when, at evening, on that hill,\n",
    "While summer’s wind blew soft and low,\n",
    "Seated by gallant Hotspur’s side,\n",
    "His Katherine was a happy bride,\n",
    "A thousand years ago.\n",
    "\n",
    "Gaze on the Abbey’s ruined pile:\n",
    "Does not the succoring ivy, keeping\n",
    "Her watch around it, seem to smile,\n",
    "As o’er a loved one sleeping?\n",
    "One solitary turret gray\n",
    "Still tells, in melancholy glory,\n",
    "The legend of the Cheviot day,\n",
    "The Percy’s proudest border story.\n",
    "That day its roof was triumph’s arch;\n",
    "Then rang, from aisle to pictured dome,\n",
    "The light step of the soldier’s march,\n",
    "The music of the trump and drum;\n",
    "And babe, and sire, the old, the young,\n",
    "And the monk’s hymn, and minstrel’s song,\n",
    "And woman’s pure kiss, sweet and long,\n",
    "Welcomed her warrior home.\n",
    "\n",
    "Wild roses by the Abbey towers\n",
    "Are gay in their young bud and bloom:\n",
    "They were born of a race of funeral-flowers\n",
    "That garlanded, in long-gone hours,\n",
    "A templar’s knightly tomb.\n",
    "He died, the sword in his mailed hand,\n",
    "On the holiest spot of the Blessed land,\n",
    "Where the Cross was damped with his dying breath,\n",
    "When blood ran free as festal wine,\n",
    "And the sainted air of Palestine\n",
    "Was thick with the darts of death.\n",
    "\n",
    "Wise with the lore of centuries,\n",
    "What tales, if there be “tongues in trees,”\n",
    "Those giant oaks could tell,\n",
    "Of beings born and buried here;\n",
    "Tales of the peasant and the peer,\n",
    "Tales of the bridal and the bier,\n",
    "The welcome and farewell,\n",
    "Since on their boughs the startled bird\n",
    "First, in her twilight slumbers, heard\n",
    "The Norman’s curfew-bell!\n",
    "\n",
    "I wandered through the lofty halls\n",
    "Trod by the Percys of old fame,\n",
    "And traced upon the chapel walls\n",
    "Each high, heroic name,\n",
    "From him3 who once his standard set\n",
    "Where now, o’er mosque and minaret,\n",
    "Glitter the Sultan’s crescent moons;\n",
    "To him who, when a younger son,\n",
    "Fought for King George at Lexington,4\n",
    "A major of dragoons.\n",
    "\n",
    "That last half stanza—it has dashed\n",
    "From my warm lip the sparkling cup;\n",
    "The light that o’er my eyebeam flashed,\n",
    "The power that bore my spirit up\n",
    "Above this bank-note world—is gone;\n",
    "And Alnwick’s but a market town,\n",
    "And this, alas! its market day,\n",
    "\n",
    "And beasts and borderers throng the way;\n",
    "Oxen and bleating lambs in lots,\n",
    "Northumbrian boors and plaided Scots,\n",
    "Men in the coal and cattle line;\n",
    "From Teviot’s bard and hero land,\n",
    "From royal Berwick’s5 beach of sand,\n",
    "From Wooller, Morpeth, Hexham, and\n",
    "Newcastle-upon-Tyne.\n",
    "\n",
    "These are not the romantic times\n",
    "So beautiful in Spenser’s rhymes,\n",
    "So dazzling to the dreaming boy:\n",
    "Ours are the days of fact, not fable,\n",
    "Of knights, but not of the round table,\n",
    "Of Bailie Jarvie, not Rob Roy:\n",
    "’Tis what “our President,” Monroe,\n",
    "Has called “the era of good feeling:”\n",
    "The Highlander, the bitterest foe\n",
    "To modern laws, has felt their blow,\n",
    "Consented to be taxed, and vote,\n",
    "And put on pantaloons and coat,\n",
    "And leave off cattle-stealing:\n",
    "Lord Stafford mines for coal and salt,\n",
    "The Duke of Norfolk deals in malt,\n",
    "The Douglass in red herrings;\n",
    "And noble name and cultured land,\n",
    "Palace, and park, and vassal-band,\n",
    "Are powerless to the notes of hand\n",
    "Of Rothschild or the Barings.\n",
    "\n",
    "The age of bargaining, said Burke,\n",
    "Has come: to-day the turbaned Turk\n",
    "(Sleep, Richard of the lion heart!\n",
    "Sleep on, nor from your cerements start)\n",
    "Is England’s friend and fast ally;\n",
    "The Moslem tramples on the Greek,\n",
    "And on the Cross and altar-stone,\n",
    "And Christendom looks tamely on,\n",
    "And hears the Christian maiden shriek,\n",
    "And sees the Christian father die;\n",
    "And not a sabre-blow is given\n",
    "For Greece and fame, for faith and heaven,\n",
    "By Europe’s craven chivalry.\n",
    "\n",
    "You’ll ask if yet the Percy lives\n",
    "In the armed pomp of feudal state?\n",
    "The present representatives\n",
    "Of Hotspur and his “gentle Kate,”\n",
    "Are some half-dozen serving-men\n",
    "In the drab coat of William Penn;\n",
    "A chambermaid, whose lip and eye,\n",
    "And cheek, and brown hair, bright and curling,\n",
    "Spoke Nature’s aristocracy;\n",
    "And one, half groom, half seneschal,\n",
    "Who bowed me through court, bower, and hall,\n",
    "From donjon-keep to turret wall,\n",
    "For ten-and-sixpence sterling.'''\n",
    "\n",
    "# Function to analyze text features\n",
    "def analyze_text(text):\n",
    "    sentences = sent_tokenize(text)\n",
    "    avg_len = sum(len(word_tokenize(sent)) for sent in sentences) / len(sentences) if sentences else 0\n",
    "    \n",
    "    pos_tags = pos_tag(word_tokenize(text))\n",
    "    pos_freq = Counter(tag for word, tag in pos_tags)\n",
    "    \n",
    "    punctuation = Counter(char for char in text if char in '.,;!?')\n",
    "    \n",
    "    return avg_len, pos_freq, punctuation\n",
    "\n",
    "# Analyze actual author's corpus\n",
    "author_avg_lengths = []\n",
    "author_pos_freqs = Counter()\n",
    "author_punctuations = Counter()\n",
    "\n",
    "for text in actual_author_texts:\n",
    "    avg_len, pos_freq, punctuation = analyze_text(text)\n",
    "    author_avg_lengths.append(avg_len)\n",
    "    author_pos_freqs.update(pos_freq)\n",
    "    author_punctuations.update(punctuation)\n",
    "\n",
    "# Average statistics for the actual author\n",
    "author_avg_length = statistics.mean(author_avg_lengths) if author_avg_lengths else 0\n",
    "author_pos_freqs_normalized = {k: v / len(actual_author_texts) for k, v in author_pos_freqs.items()}\n",
    "author_punctuations_normalized = {k: v / len(actual_author_texts) for k, v in author_punctuations.items()}\n",
    "\n",
    "# Analyze the first disputed text\n",
    "disputed_avg_length_1, disputed_pos_freqs_1, disputed_punctuations_1 = analyze_text(disputed_text_1)\n",
    "\n",
    "# Analyze the second disputed text\n",
    "disputed_avg_length_2, disputed_pos_freqs_2, disputed_punctuations_2 = analyze_text(disputed_text_2)\n",
    "\n",
    "# Analyze the third disputed text\n",
    "disputed_avg_length_3, disputed_pos_freqs_3, disputed_punctuations_3 = analyze_text(disputed_text_3)\n",
    "\n",
    "# Compare sentence lengths\n",
    "print(f\"Average Sentence Length - Actual Author: {author_avg_length}\")\n",
    "print(f\"Disputed Text 1: {disputed_avg_length_1}, Disputed Text 2: {disputed_avg_length_2}, Disputed Text 3: {disputed_avg_length_3}\")\n",
    "\n",
    "# Compare POS frequencies\n",
    "print(f\"POS Frequency - Actual Author: {author_pos_freqs_normalized}\")\n",
    "print(f\"Disputed Text 1: {disputed_pos_freqs_1}\")\n",
    "print(f\"Disputed Text 2: {disputed_pos_freqs_2}\")\n",
    "print(f\"Disputed Text 3: {disputed_pos_freqs_3}\")\n",
    "\n",
    "# Compare punctuation usage\n",
    "print(f\"Punctuation - Actual Author: {author_punctuations_normalized}\")\n",
    "print(f\"Punctuation - Disputed Text 1: {disputed_punctuations_1}\")\n",
    "print(f\"Punctuation - Disputed Text 2: {disputed_punctuations_2}\")\n",
    "print(f\"Punctuation - Disputed Text 3: {disputed_punctuations_3}\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "id": "29446d3a",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Average Sentence Length - Actual Author: 32.55\n",
      "Disputed Text 1: 23.928571428571427, Disputed Text 2: 49.63636363636363, Disputed Text 3: 36.303030303030305\n",
      "POS Frequency - Actual Author: {\"''\": 6.0, 'DT': 71.0, 'NN': 95.0, 'IN': 63.0, 'NNP': 25.0, ',': 53.0, 'WRB': 8.0, 'RB': 34.0, 'VBD': 38.0, 'VBG': 6.0, ':': 20.0, 'NNS': 20.0, 'VBN': 5.0, 'MD': 11.0, 'VB': 15.0, 'PRP$': 28.0, 'VBP': 7.0, 'CC': 32.0, 'PRP': 33.0, 'JJ': 31.0, 'POS': 1.0, 'RP': 4.0, 'TO': 16.0, 'WP': 2.0, '.': 20.0, 'CD': 1.0, 'RBR': 1.0, 'VBZ': 3.0, '``': 1.0, 'PDT': 1.0}\n",
      "Disputed Text 1: Counter({'NN': 57, 'JJ': 38, 'IN': 32, 'NNS': 23, ',': 21, 'DT': 18, 'NNP': 17, 'MD': 16, '.': 14, 'VB': 14, 'RB': 11, 'PRP$': 9, 'VBD': 8, 'VBP': 7, 'POS': 6, 'CC': 6, ':': 5, 'WRB': 5, 'VBG': 4, 'TO': 4, 'PRP': 3, 'VBZ': 3, 'VBN': 2, 'JJS': 2, 'WDT': 2, \"''\": 2, 'CD': 2, 'WP$': 1, '``': 1, 'WP': 1, 'RP': 1})\n",
      "Disputed Text 2: Counter({'NN': 103, 'DT': 43, 'VBD': 39, 'IN': 38, 'JJ': 33, ':': 30, 'VB': 29, 'PRP': 27, 'CC': 26, 'NNP': 24, 'RB': 23, 'MD': 17, 'PRP$': 17, ',': 16, 'VBN': 14, '.': 11, 'TO': 11, 'NNS': 10, 'VBP': 8, 'VBZ': 4, 'POS': 3, \"''\": 3, 'VBG': 3, 'CD': 3, 'WRB': 2, 'SYM': 2, 'JJS': 2, 'WP': 1, 'EX': 1, 'FW': 1, '``': 1, 'WDT': 1})\n",
      "Disputed Text 3: Counter({'NN': 216, 'NNP': 130, ',': 125, 'IN': 102, 'DT': 82, 'JJ': 76, 'CC': 73, 'NNS': 60, 'PRP$': 41, 'VBD': 38, '.': 33, 'VB': 30, 'VBP': 25, 'RB': 24, 'VBZ': 24, 'PRP': 19, ':': 16, 'VBN': 15, 'WDT': 11, 'WRB': 10, 'TO': 10, 'MD': 9, 'JJR': 5, 'VBG': 4, 'WP': 4, 'CD': 3, 'WP$': 3, 'JJS': 2, 'RP': 2, 'NNPS': 2, 'EX': 1, 'POS': 1, 'RBR': 1, \"''\": 1})\n",
      "Punctuation - Actual Author: {',': 53.0, ';': 10.0, '.': 12.0, '!': 12.0}\n",
      "Punctuation - Disputed Text 1: Counter({',': 21, ';': 5, '?': 5, '.': 5, '!': 4})\n",
      "Punctuation - Disputed Text 2: Counter({';': 18, ',': 16, '.': 11, '?': 2})\n",
      "Punctuation - Disputed Text 3: Counter({',': 125, '.': 24, ';': 13, '!': 6, '?': 4})\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "[nltk_data] Downloading package punkt to /Users/owais/nltk_data...\n",
      "[nltk_data]   Package punkt is already up-to-date!\n",
      "[nltk_data] Downloading package averaged_perceptron_tagger to\n",
      "[nltk_data]     /Users/owais/nltk_data...\n",
      "[nltk_data]   Package averaged_perceptron_tagger is already up-to-\n",
      "[nltk_data]       date!\n"
     ]
    }
   ],
   "source": [
    "import nltk\n",
    "from nltk import pos_tag, word_tokenize, sent_tokenize\n",
    "from collections import Counter\n",
    "import statistics\n",
    "\n",
    "# Ensure that NLTK resources are downloaded (if not already)\n",
    "nltk.download('punkt')\n",
    "nltk.download('averaged_perceptron_tagger')\n",
    "\n",
    "\n",
    "actual_author_texts = [\n",
    "'''\n",
    "'Twas the night before Christmas, when all thro' the house,\n",
    "Not a creature was stirring, not even a mouse;\n",
    "The stockings were hung by the chimney with care,\n",
    "In hopes that St. Nicholas soon would be there;\n",
    "The children were nestled all snug in their beds,\n",
    "While visions of sugar plums danc'd in their heads,\n",
    "And Mama in her 'kerchief, and I in my cap,\n",
    "Had just settled our brains for a long winter's nap -\n",
    "When out on the lawn there arose such a clatter,\n",
    "I sprung from the bed to see what was the matter.\n",
    "Away to the window I flew like a flash,\n",
    "Tore open the shutters, and threw up the sash.\n",
    "The moon on the breast of the new fallen snow,\n",
    "Gave the lustre of mid-day to objects below;\n",
    "When, what to my wondering eyes should appear,\n",
    "But a minature sleigh, and eight tiny rein-deer,\n",
    "With a little old driver, so lively and quick,\n",
    "I knew in a moment it must be St. Nick.\n",
    "More rapid than eagles his coursers they came,\n",
    "And he whistled, and shouted, and call'd them by name:\n",
    "\"Now! Dasher, now! Dancer, now! Prancer, and Vixen,\n",
    "\"On! Comet, on! Cupid, on! Dunder and Blixem;\n",
    "\"To the top of the porch! to the top of the wall!\n",
    "\"Now dash away! dash away! dash away all!\"\n",
    "As dry leaves before the wild hurricane fly,\n",
    "When they meet with an obstacle, mount to the sky;\n",
    "So up to the house-top the coursers they flew,\n",
    "With the sleigh full of Toys - and St. Nicholas too:\n",
    "And then in a twinkling, I heard on the roof\n",
    "The prancing and pawing of each little hoof.\n",
    "As I drew in my head, and was turning around,\n",
    "Down the chimney St. Nicholas came with a bound:\n",
    "He was dress'd all in fur, from his head to his foot,\n",
    "And his clothes were all tarnish'd with ashes and soot;\n",
    "A bundle of toys was flung on his back,\n",
    "And he look'd like a peddler just opening his pack:\n",
    "His eyes - how they twinkled! his dimples how merry,\n",
    "His cheeks were like roses, his nose like a cherry;\n",
    "His droll little mouth was drawn up like a bow,\n",
    "And the beard of his chin was as white as the snow;\n",
    "The stump of a pipe he held tight in his teeth,\n",
    "And the smoke it encircled his head like a wreath.\n",
    "He had a broad face, and a little round belly\n",
    "That shook when he laugh'd, like a bowl full of jelly:\n",
    "He was chubby and plump, a right jolly old elf,\n",
    "And I laugh'd when I saw him in spite of myself;\n",
    "A wink of his eye and a twist of his head\n",
    "Soon gave me to know I had nothing to dread.\n",
    "He spoke not a word, but went straight to his work,\n",
    "And fill'd all the stockings; then turn'd with a jirk,\n",
    "And laying his finger aside of his nose\n",
    "And giving a nod, up the chimney he rose.\n",
    "He sprung to his sleigh, to his team gave a whistle,\n",
    "And away they all flew, like the down of a thistle:\n",
    "But I heard him exclaim, ere he drove out of sight -\n",
    "Happy Christmas to all, and to all a good night.\n",
    "'''\n",
    "]\n",
    "\n",
    "# Disputed texts\n",
    "disputed_text_1 = '''\n",
    "Sweet melancholy Bard! whose piercing thought\n",
    "Found humblest themes with pure instruction fraught;\n",
    "How hard for mortal sight to trace the ways\n",
    "Of Heav'n throughout thy life's mysterious maze!\n",
    "Why was it order'd that thy gentle mind,\n",
    "Which fancy fir'd and piety refin'd,\n",
    "Should in this guilty world be forc'd to dwell,\n",
    "Like some base culprit in his gloomy cell,\n",
    "Rous'd from its due repose by feverish dreams,\n",
    "By goblin forms, by din of fancied screams?\n",
    "Why was that fertile genius waste and chill'd?\n",
    "By wintry blasts its opening blossoms kill'd?\n",
    "A soil where Yemen's spicy buds might blow,\n",
    "And Persia's rose a purer fragrance know!\n",
    "Why bloom'd so late those sweet poetic flowers,\n",
    "Bless'd by no summer suns, no vernal showers,\n",
    "Which in the autumn of thy days were rear'd\n",
    "By friendship's dew, by fickle zephyrs cheer'd?\n",
    "I hear a distant Seraph bid me \"Hold,\n",
    "Nor tempt high Heav'n by such inquiries bold.\n",
    "Weak-sighted mortal! canst thou not discern.\n",
    "What from unaided reason thou might'st learn?\n",
    "Had fortune's sunbeams cheer'd his early days,\n",
    "Amidst the soft favonian breath of praise,\n",
    "Those fruitful virtues which sprang up so fair,\n",
    "Those blossoms breathing odors on the air,\n",
    "By weeds of pride and vanity o'ergrown,\n",
    "Unheeded might have bloom'd, and died unknown.\n",
    "Presumptuous mortal 'twould become thee well\n",
    "On this thy fellow mortal's life to dwell;\n",
    "For in his breast, when rack'd by fiercest woes,\n",
    "To question Heav'n, no daring thought e'er rose.\n",
    "His actions vice and folly view with shame;\n",
    "His precepts foul-mouth'd envy dares not blame;\n",
    "His well-lov'd image still calls many a tear;\n",
    "His cherish'd name all ages shall revere.\"\n",
    "\n",
    "'''\n",
    "disputed_text_2 = '''\n",
    "In long gone years a fox and crane\n",
    "Were bound in friendship's golden chain;\n",
    "Whene'er they met, the fox would bow\n",
    "And madame Crane would curtsie low-\n",
    "-My lovely Crane how do you do?\n",
    "-I'm very well; pray how are you?\n",
    "Thus time passed on, both very civil\n",
    "Till Reynard in an hour evil\n",
    "Projected what he thought a stroke\n",
    "The world would call a pretty joke -\n",
    "A billet wrote on gilded paper\n",
    "And sealed it with a perfumed wafer\n",
    "Announced the day, if she saw fit\n",
    "To take a tete-a-tetetit-bit;\n",
    "The day arriv'd -she preen'd each feather\n",
    "And summon'd ev'ry grace together;\n",
    "At breakfast scarce a morsel eat\n",
    "Intent to riot at the treat -\n",
    "\n",
    "She came; wide stood the unfolded door\n",
    "And roses deck'd the sanded floor -\n",
    "- There hyacinths in festoons hung\n",
    "- Here lillies their rich fragrance flung -\n",
    "\n",
    "The table drawn; the damask laid\n",
    "And soup prepared of bullock's marrow\n",
    "Pour'd in each plate profuse; but shallow;\n",
    "The fox began to lap in haste\n",
    "And made a plentiful repast,\n",
    "Pressed his fair friend to do the same\n",
    "And to encourage, lap'd again -\n",
    "\n",
    "The Crane be sure with her long beak\n",
    "Could not a single morsel pick;\n",
    "She felt the bite--but little said\n",
    "And very soon her exit made,\n",
    "Just beg'd the fox would come next day\n",
    "And sup with her in her plain way;\n",
    "Reynard declared she did him honor\n",
    "-He certainly would wait upon her.\n",
    "\n",
    "Her domicile was well prepar'd\n",
    "No cost or labor had been spared;\n",
    "Roses and tulips on the floor\n",
    "And daffodils the ceiling bore;\n",
    "Nor was a band of music wanting\n",
    "For whippoorwills and frogs were chanting.\n",
    "The sun had set and given way\n",
    "To sober evening's mantle gray;\n",
    "The fox arriv'd with stomach keen\n",
    "-Hoped he saw in health his Queen\n",
    "And added in his courtliest air\n",
    "She ne'er before had look'd so fair.\n",
    "\n",
    "The Crane replied in mildest mood\n",
    "That all he said was very good,\n",
    "She meekly meant to do her duty\n",
    "And ne'er dream'd of praise or beauty.\n",
    "-She spoke; The table soon was spread\n",
    "And ev'rything in order paid;\n",
    "Two narrow jars now graced the board\n",
    "With nicely minced ven'son stored;\n",
    "- Now let's fall to, sir, if you will--\n",
    "And in she pok'd her slender bill\n",
    "And gulp'd of viands at her leisure\n",
    "- To see you eat would give me pleasure\n",
    "She cried; eat, neighbor, eat\n",
    "I fear you do not like my treat;\n",
    "It suits my palate to a hair\n",
    "Pray, Chummy, eat and do not spare.\n",
    "- The fox looked on with rueful phys\n",
    "Feeling in all its force the quiz.\n",
    "\n",
    "The Crane enjoy'd his discontent\n",
    "And thus address'd him as he went,\n",
    "The truest adage ever spoke\n",
    "Was \"He that Gives must Take a joke.\"\n",
    "\n",
    "H.L. to his beloved daughter Jane, Feb. 19, 1827.\n",
    "\n",
    "\n",
    "'''\n",
    "disputed_text_3 = '''BURNS.\n",
    "\n",
    "TO A ROSE, BROUGHT FROM NEAR ALLOWAY KIRK, IN AYRSHIRE, IN THE AUTUMN OF 1822.\n",
    "\n",
    "Wild Rose of Alloway! my thanks;\n",
    "Thou ’mindst me of that autumn noon\n",
    "When first we met upon “the banks\n",
    "And braes o’ bonny Doon.”\n",
    "\n",
    "Like thine, beneath the thorn-tree’s bough,\n",
    "My sunny hour was glad and brief,\n",
    "We’ve crossed the winter sea, and thou\n",
    "Art withered—flower and leaf.\n",
    "\n",
    "And will not thy death-doom be mine—\n",
    "The doom of all things wrought of clay—\n",
    "And withered my life’s leaf like thine,\n",
    "Wild rose of Alloway?\n",
    "\n",
    "Not so his memory, for his sake\n",
    "My bosom bore thee far and long,\n",
    "His—who a humbler flower could make\n",
    "Immortal as his song,\n",
    "\n",
    "The memory of Burns—a name\n",
    "That calls, when brimmed her festal cup,\n",
    "A nation’s glory and her shame,\n",
    "In silent sadness up.\n",
    "\n",
    "A nation’s glory—be the rest\n",
    "Forgot—she’s canonized his mind;\n",
    "And it is joy to speak the best\n",
    "We may of human kind.\n",
    "\n",
    "I’ve stood beside the cottage-bed\n",
    "Where the Bard-peasant first drew breath;\n",
    "A straw-thatched roof above his head,\n",
    "A straw-wrought couch beneath.\n",
    "\n",
    "And I have stood beside the pile,\n",
    "His monument—that tells to Heaven\n",
    "The homage of earth’s proudest isle\n",
    "To that Bard-peasant given!\n",
    "\n",
    "Bid thy thoughts hover o’er that spot,\n",
    "Boy-minstrel, in thy dreaming hour;\n",
    "And know, however low his lot,\n",
    "A Poet’s pride and power:\n",
    "\n",
    "The pride that lifted Burns from earth,\n",
    "The power that gave a child of song\n",
    "Ascendency o’er rank and birth,\n",
    "The rich, the brave, the strong;\n",
    "\n",
    "And if despondency weigh down\n",
    "Thy spirit’s fluttering pinions then,\n",
    "Despair—thy name is written on\n",
    "The roll of common men.\n",
    "\n",
    "There have been loftier themes than his,\n",
    "And longer scrolls, and louder lyres,\n",
    "And lays lit up with Poesy’s\n",
    "Purer and holier fires:\n",
    "\n",
    "Yet read the names that know not death;\n",
    "Few nobler ones than Burns are there;\n",
    "And few have won a greener wreath\n",
    "Than that which binds his hair.\n",
    "\n",
    "His is that language of the heart,\n",
    "In which the answering heart would speak,\n",
    "Thought, word, that bids the warm tear start,\n",
    "Or the smile light the cheek;\n",
    "\n",
    "And his that music, to whose tone\n",
    "The common pulse of man keeps time,\n",
    "In cot or castle’s mirth or moan,\n",
    "In cold or sunny clime.\n",
    "\n",
    "And who hath heard his song, nor knelt\n",
    "Before its spell with willing knee,\n",
    "And listened, and believed, and felt\n",
    "The Poet’s mastery:\n",
    "\n",
    "O’er the mind’s sea, in calm and storm,\n",
    "O’er the heart’s sunshine and its showers,\n",
    "O’er Passion’s moments bright and warm,\n",
    "O’er Reason’s dark, cold hours;\n",
    "\n",
    "On fields where brave men “die or do,”\n",
    "In halls where rings the banquet’s mirth,\n",
    "Where mourners weep, where lovers woo,\n",
    "From throne to cottage-hearth?\n",
    "\n",
    "What sweet tears dim the eye unshed,\n",
    "What wild vows falter on the tongue,\n",
    "When “Scots wha hae wi’ Wallace bled,”\n",
    "Or “Auld Lang Syne” is sung!\n",
    "\n",
    "Pure hopes, that lift the soul above,\n",
    "Come with his Cotter’s hymn of praise,\n",
    "And dreams of youth, and truth, and love,\n",
    "With “Logan’s” banks and braes.\n",
    "\n",
    "And when he breathes his master-lay\n",
    "Of Alloway’s witch-haunted wall,\n",
    "All passions in our frames of clay\n",
    "Come thronging at his call.\n",
    "\n",
    "Imagination’s world of air,\n",
    "And our own world, its gloom and glee,\n",
    "Wit, pathos, poetry, are there,\n",
    "And death’s sublimity.\n",
    "\n",
    "And Burns—though brief the race he ran,\n",
    "Though rough and dark the path he trod,\n",
    "Lived—died—in form and soul a Man,\n",
    "The image of his God.\n",
    "\n",
    "Through care, and pain, and want, and woe,\n",
    "With wounds that only death could heal,\n",
    "Tortures—the poor alone can know,\n",
    "The proud alone can feel;\n",
    "\n",
    "He kept his honesty and truth,\n",
    "His independent tongue and pen,\n",
    "And moved, in manhood as in youth,\n",
    "Pride of his fellow-men.\n",
    "\n",
    "Strong sense, deep feeling, passions strong,\n",
    "A hate of tyrant and of knave,\n",
    "A love of right, a scorn of wrong,\n",
    "Of coward and of slave;\n",
    "\n",
    "A kind, true heart, a spirit high,\n",
    "That could not fear and would not bow,\n",
    "Were written in his manly eye\n",
    "And on his manly brow.\n",
    "\n",
    "Praise to the bard! his words are driven,\n",
    "Like flower-seeds by the far winds sown,\n",
    "Where’er, beneath the sky of heaven,\n",
    "The birds of fame have flown.\n",
    "\n",
    "Praise to the man! a nation stood\n",
    "Beside his coffin with wet eyes,\n",
    "Her brave, her beautiful, her good,\n",
    "As when a loved one dies.\n",
    "\n",
    "And still, as on his funeral-day,\n",
    "Men stand his cold earth-couch around,\n",
    "With the mute homage that we pay\n",
    "To consecrated ground.\n",
    "\n",
    "And consecrated ground it is,\n",
    "The last, the hallowed home of one\n",
    "Who lives upon all memories,\n",
    "Though with the buried gone.\n",
    "\n",
    "Such graves as his are pilgrim-shrines,\n",
    "Shrines to no code or creed confined—\n",
    "The Delphian vales, the Palestines,\n",
    "The Meccas of the mind.\n",
    "\n",
    "Sages, with wisdom’s garland wreathed,\n",
    "Crowned kings, and mitred priests of power,\n",
    "And warriors with their bright swords sheathed,\n",
    "The mightiest of the hour;\n",
    "\n",
    "And lowlier names, whose humble home\n",
    "Is lit by fortune’s dimmer star,\n",
    "Are there—o’er wave and mountain come,\n",
    "From countries near and far;\n",
    "\n",
    "Pilgrims whose wandering feet have pressed\n",
    "The Switzer’s snow, the Arab’s sand,\n",
    "Or trod the piled leaves of the West,\n",
    "My own green forest-land.\n",
    "\n",
    "All ask the cottage of his birth,\n",
    "Gaze on the scenes he loved and sung,\n",
    "And gather feelings not of earth\n",
    "His fields and streams among.\n",
    "\n",
    "They linger by the Doon’s low trees,\n",
    "And pastoral Nith, and wooded Ayr,\n",
    "And round thy sepulchres, Dumfries!\n",
    "The poet’s tomb is there.\n",
    "\n",
    "But what to them the sculptor’s art,\n",
    "His funeral columns, wreaths and urns?\n",
    "Wear they not graven on the heart\n",
    "The name of Robert Burns?'''\n",
    "\n",
    "# Function to analyze text features\n",
    "def analyze_text(text):\n",
    "    sentences = sent_tokenize(text)\n",
    "    avg_len = sum(len(word_tokenize(sent)) for sent in sentences) / len(sentences) if sentences else 0\n",
    "    \n",
    "    pos_tags = pos_tag(word_tokenize(text))\n",
    "    pos_freq = Counter(tag for word, tag in pos_tags)\n",
    "    \n",
    "    punctuation = Counter(char for char in text if char in '.,;!?')\n",
    "    \n",
    "    return avg_len, pos_freq, punctuation\n",
    "\n",
    "# Analyze actual author's corpus\n",
    "author_avg_lengths = []\n",
    "author_pos_freqs = Counter()\n",
    "author_punctuations = Counter()\n",
    "\n",
    "for text in actual_author_texts:\n",
    "    avg_len, pos_freq, punctuation = analyze_text(text)\n",
    "    author_avg_lengths.append(avg_len)\n",
    "    author_pos_freqs.update(pos_freq)\n",
    "    author_punctuations.update(punctuation)\n",
    "\n",
    "# Average statistics for the actual author\n",
    "author_avg_length = statistics.mean(author_avg_lengths) if author_avg_lengths else 0\n",
    "author_pos_freqs_normalized = {k: v / len(actual_author_texts) for k, v in author_pos_freqs.items()}\n",
    "author_punctuations_normalized = {k: v / len(actual_author_texts) for k, v in author_punctuations.items()}\n",
    "\n",
    "# Analyze the first disputed text\n",
    "disputed_avg_length_1, disputed_pos_freqs_1, disputed_punctuations_1 = analyze_text(disputed_text_1)\n",
    "\n",
    "# Analyze the second disputed text\n",
    "disputed_avg_length_2, disputed_pos_freqs_2, disputed_punctuations_2 = analyze_text(disputed_text_2)\n",
    "\n",
    "# Analyze the third disputed text\n",
    "disputed_avg_length_3, disputed_pos_freqs_3, disputed_punctuations_3 = analyze_text(disputed_text_3)\n",
    "\n",
    "# Compare sentence lengths\n",
    "print(f\"Average Sentence Length - Actual Author: {author_avg_length}\")\n",
    "print(f\"Disputed Text 1: {disputed_avg_length_1}, Disputed Text 2: {disputed_avg_length_2}, Disputed Text 3: {disputed_avg_length_3}\")\n",
    "\n",
    "# Compare POS frequencies\n",
    "print(f\"POS Frequency - Actual Author: {author_pos_freqs_normalized}\")\n",
    "print(f\"Disputed Text 1: {disputed_pos_freqs_1}\")\n",
    "print(f\"Disputed Text 2: {disputed_pos_freqs_2}\")\n",
    "print(f\"Disputed Text 3: {disputed_pos_freqs_3}\")\n",
    "\n",
    "# Compare punctuation usage\n",
    "print(f\"Punctuation - Actual Author: {author_punctuations_normalized}\")\n",
    "print(f\"Punctuation - Disputed Text 1: {disputed_punctuations_1}\")\n",
    "print(f\"Punctuation - Disputed Text 2: {disputed_punctuations_2}\")\n",
    "print(f\"Punctuation - Disputed Text 3: {disputed_punctuations_3}\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "id": "4a5ecbda",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Average Sentence Length - Actual Author: 32.55\n",
      "Disputed Text 1: 18.333333333333332, Disputed Text 2: 18.545454545454547, Disputed Text 3: 46.0\n",
      "POS Frequency - Actual Author: {\"''\": 6.0, 'DT': 71.0, 'NN': 95.0, 'IN': 63.0, 'NNP': 25.0, ',': 53.0, 'WRB': 8.0, 'RB': 34.0, 'VBD': 38.0, 'VBG': 6.0, ':': 20.0, 'NNS': 20.0, 'VBN': 5.0, 'MD': 11.0, 'VB': 15.0, 'PRP$': 28.0, 'VBP': 7.0, 'CC': 32.0, 'PRP': 33.0, 'JJ': 31.0, 'POS': 1.0, 'RP': 4.0, 'TO': 16.0, 'WP': 2.0, '.': 20.0, 'CD': 1.0, 'RBR': 1.0, 'VBZ': 3.0, '``': 1.0, 'PDT': 1.0}\n",
      "Disputed Text 1: Counter({'NN': 13, 'NNP': 5, 'DT': 4, 'IN': 4, 'POS': 4, 'RB': 3, '.': 3, 'MD': 3, 'JJ': 3, 'VBN': 2, ',': 2, 'CC': 2, 'VBP': 2, 'PRP$': 1, ':': 1, 'VB': 1, 'VBG': 1, 'NNS': 1})\n",
      "Disputed Text 2: Counter({'NN': 33, 'NNP': 19, 'JJ': 18, 'IN': 17, 'DT': 16, '.': 11, ',': 11, 'NNS': 9, 'PRP$': 7, 'VBD': 7, 'VB': 7, 'CC': 7, 'VBZ': 6, 'MD': 5, 'JJS': 4, 'POS': 4, 'WP': 3, 'RB': 3, 'VBN': 3, 'TO': 3, 'VBP': 3, 'CD': 2, 'PRP': 1, 'RBR': 1, ':': 1, 'JJR': 1, 'WP$': 1, 'WRB': 1})\n",
      "Disputed Text 3: Counter({'NN': 183, 'IN': 117, ',': 96, 'NNP': 94, 'DT': 69, 'JJ': 69, 'CC': 43, 'NNS': 42, ':': 26, 'PRP$': 24, '.': 23, 'VBZ': 23, 'VBD': 22, 'PRP': 20, 'RB': 17, 'VB': 15, 'VBP': 15, 'VBG': 15, 'VBN': 14, 'TO': 8, 'MD': 7, 'CD': 5, 'JJS': 4, 'WP': 4, 'EX': 3, 'WP$': 2, 'WRB': 2, 'RP': 1, 'RBS': 1, 'RBR': 1, 'POS': 1})\n",
      "Punctuation - Actual Author: {',': 53.0, ';': 10.0, '.': 12.0, '!': 12.0}\n",
      "Punctuation - Disputed Text 1: Counter({',': 2, '.': 2, '!': 1})\n",
      "Punctuation - Disputed Text 2: Counter({',': 11, '.': 7, '!': 4, ';': 1, '?': 1})\n",
      "Punctuation - Disputed Text 3: Counter({',': 96, ';': 19, '.': 14, '!': 5, '?': 4})\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "[nltk_data] Downloading package punkt to /Users/owais/nltk_data...\n",
      "[nltk_data]   Package punkt is already up-to-date!\n",
      "[nltk_data] Downloading package averaged_perceptron_tagger to\n",
      "[nltk_data]     /Users/owais/nltk_data...\n",
      "[nltk_data]   Package averaged_perceptron_tagger is already up-to-\n",
      "[nltk_data]       date!\n"
     ]
    }
   ],
   "source": [
    "import nltk\n",
    "from nltk import pos_tag, word_tokenize, sent_tokenize\n",
    "from collections import Counter\n",
    "import statistics\n",
    "\n",
    "# Ensure that NLTK resources are downloaded (if not already)\n",
    "nltk.download('punkt')\n",
    "nltk.download('averaged_perceptron_tagger')\n",
    "\n",
    "\n",
    "actual_author_texts = [\n",
    "'''\n",
    "'Twas the night before Christmas, when all thro' the house,\n",
    "Not a creature was stirring, not even a mouse;\n",
    "The stockings were hung by the chimney with care,\n",
    "In hopes that St. Nicholas soon would be there;\n",
    "The children were nestled all snug in their beds,\n",
    "While visions of sugar plums danc'd in their heads,\n",
    "And Mama in her 'kerchief, and I in my cap,\n",
    "Had just settled our brains for a long winter's nap -\n",
    "When out on the lawn there arose such a clatter,\n",
    "I sprung from the bed to see what was the matter.\n",
    "Away to the window I flew like a flash,\n",
    "Tore open the shutters, and threw up the sash.\n",
    "The moon on the breast of the new fallen snow,\n",
    "Gave the lustre of mid-day to objects below;\n",
    "When, what to my wondering eyes should appear,\n",
    "But a minature sleigh, and eight tiny rein-deer,\n",
    "With a little old driver, so lively and quick,\n",
    "I knew in a moment it must be St. Nick.\n",
    "More rapid than eagles his coursers they came,\n",
    "And he whistled, and shouted, and call'd them by name:\n",
    "\"Now! Dasher, now! Dancer, now! Prancer, and Vixen,\n",
    "\"On! Comet, on! Cupid, on! Dunder and Blixem;\n",
    "\"To the top of the porch! to the top of the wall!\n",
    "\"Now dash away! dash away! dash away all!\"\n",
    "As dry leaves before the wild hurricane fly,\n",
    "When they meet with an obstacle, mount to the sky;\n",
    "So up to the house-top the coursers they flew,\n",
    "With the sleigh full of Toys - and St. Nicholas too:\n",
    "And then in a twinkling, I heard on the roof\n",
    "The prancing and pawing of each little hoof.\n",
    "As I drew in my head, and was turning around,\n",
    "Down the chimney St. Nicholas came with a bound:\n",
    "He was dress'd all in fur, from his head to his foot,\n",
    "And his clothes were all tarnish'd with ashes and soot;\n",
    "A bundle of toys was flung on his back,\n",
    "And he look'd like a peddler just opening his pack:\n",
    "His eyes - how they twinkled! his dimples how merry,\n",
    "His cheeks were like roses, his nose like a cherry;\n",
    "His droll little mouth was drawn up like a bow,\n",
    "And the beard of his chin was as white as the snow;\n",
    "The stump of a pipe he held tight in his teeth,\n",
    "And the smoke it encircled his head like a wreath.\n",
    "He had a broad face, and a little round belly\n",
    "That shook when he laugh'd, like a bowl full of jelly:\n",
    "He was chubby and plump, a right jolly old elf,\n",
    "And I laugh'd when I saw him in spite of myself;\n",
    "A wink of his eye and a twist of his head\n",
    "Soon gave me to know I had nothing to dread.\n",
    "He spoke not a word, but went straight to his work,\n",
    "And fill'd all the stockings; then turn'd with a jirk,\n",
    "And laying his finger aside of his nose\n",
    "And giving a nod, up the chimney he rose.\n",
    "He sprung to his sleigh, to his team gave a whistle,\n",
    "And away they all flew, like the down of a thistle:\n",
    "But I heard him exclaim, ere he drove out of sight -\n",
    "Happy Christmas to all, and to all a good night.\n",
    "'''\n",
    "]\n",
    "\n",
    "# Disputed texts\n",
    "disputed_text_1 = '''\n",
    "\n",
    "This name here drawn by Flora's hand\n",
    "Portrays, alas! her mind:\n",
    "The beating surf and yielding sand\n",
    "Soon leave no trace behind.\n",
    "But Flora's name shall still abide\n",
    "In many a bosom trac'd,\n",
    "Not e'en by time's destroying tide\n",
    "Nor fortune's storms effac'd.\n",
    "\n",
    "\n",
    "'''\n",
    "disputed_text_2 = '''\n",
    "An elegy on the death of MONTGOMERY TAPPEN who dies at \n",
    "Poughkeepsie on the 20th of Nov. 1784 in the ninth year of his age.\n",
    "\n",
    "The sweetest, gentlest, of the youthful train,\n",
    "Here lies his clay cold upon the sable bier!\n",
    "He scarce had started on life's varied plain,\n",
    "For dreary death arrested his career.\n",
    "\n",
    "His cheek might vie with the expanded rose,\n",
    "And Genius sparkled in his azure eyes!\n",
    "A victim so unblemish'd Heaven chose,\n",
    "And bore the beauteous lambkin to the skies.\n",
    "\n",
    "Adieu thou loveliest child! Adieu adieu!\n",
    "Our wishes fain would follow thee on high.\n",
    "What more can friendship; what more fondness do,\n",
    "But drop the unbidden tear & heave the sigh?\n",
    "\n",
    "Ye youths whose ardent bosoms virtue fires,\n",
    "Who eager wish applause and pant for fame,\n",
    "Press round MONTGOMERY'S hearse, the NAME inspires\n",
    "And lights in kindred souls its native flame.\n",
    "\n",
    "COLUMBIA grateful hails the tender sound\n",
    "And when MONTGOMERY'S nam'd still drops a tear,\n",
    "From shore to shore to earth's remotest bound\n",
    "Where LIBERTY is known that NAME is dear.\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "'''\n",
    "disputed_text_3 = '''A Chief of the Indian Tribes, the Tuscaroras.\n",
    "\n",
    "ON LOOKING AT HIS PORTRAIT BY WEIR.\n",
    "\n",
    "Cooper, whose name is with his country’s woven,\n",
    "First in her files, her Pioneer of mind—\n",
    "A wanderer now in other climes, has proven\n",
    "His love for the young land he left behind;\n",
    "\n",
    "And throned her in the senate-hall of nations,\n",
    "Robed like the deluge rainbow, heaven-wrought;\n",
    "Magnificent as his own mind’s creations,\n",
    "And beautiful as its green world of thought:\n",
    "\n",
    "And faithful to the Act of Congress, quoted\n",
    "As law authority, it passed nem. con.:\n",
    "He writes that we are, as ourselves have voted,\n",
    "The most enlightened people ever known:\n",
    "\n",
    "That all our week is happy as a Sunday\n",
    "In Paris, full of song, and dance, and laugh;\n",
    "And that, from Orleans to the Bay of Fundy,\n",
    "There’s not a bailiff or an epitaph:\n",
    "\n",
    "And furthermore—in fifty years, or sooner,\n",
    "We shall export our poetry and wine;\n",
    "And our brave fleet, eight frigates and a schooner,\n",
    "Will sweep the seas from Zembla to the Line.\n",
    "\n",
    "If he were with me, King of Tuscarora!\n",
    "Gazing, as I, upon thy portrait now,\n",
    "In all its medalled, fringed, and beaded glory,\n",
    "Its eye’s dark beauty, and its thoughtful brow—\n",
    "\n",
    "Its brow, half martial and half diplomatic,\n",
    "Its eye, upsoaring like an eagle’s wings;\n",
    "Well might he boast that we, the Democratic,\n",
    "Outrival Europe, even in our Kings!\n",
    "\n",
    "For thou wast monarch born. Tradition’s pages\n",
    "Tell not the planting of thy parent tree,\n",
    "But that the forest tribes have bent for ages\n",
    "To thee, and to thy sires, the subject knee.\n",
    "\n",
    "Thy name is princely—if no poet’s magic\n",
    "Could make Red Jacket grace an English rhyme,\n",
    "Though some one with a genius for the tragic\n",
    "Hath introduced it in a pantomime—\n",
    "\n",
    "Yet it is music in the language spoken\n",
    "Of thine own land, and on her herald-roll;\n",
    "As bravely fought for, and as proud a token\n",
    "As Cœur de Lion’s of a warrior’s soul.\n",
    "\n",
    "Thy garb—though Austria’s bosom-star would frighten\n",
    "That medal pale, as diamonds the dark mine,\n",
    "And George the Fourth wore, at his court at Brighton\n",
    "A more becoming evening dress than thine;\n",
    "\n",
    "Yet ’tis a brave one, scorning wind and weather,\n",
    "And fitted for thy couch, on field and flood,\n",
    "As Rob Roy’s tartan for the Highland heather,\n",
    "Or forest green for England’s Robin Hood.\n",
    "\n",
    "Is strength a monarch’s merit, like a whaler’s?\n",
    "Thou art as tall, as sinewy, and as strong\n",
    "As earth’s first kings—the Argo’s gallant sailors,\n",
    "Heroes in history and gods in song.\n",
    "\n",
    "Is beauty?—Thine has with thy youth departed;\n",
    "But the love-legends of thy manhood’s years,\n",
    "And she who perished, young and broken-hearted,\n",
    "Are—but I rhyme for smiles and not for tears.\n",
    "\n",
    "Is eloquence?—Her spell is thine that reaches\n",
    "The heart, and makes the wisest head its sport;\n",
    "And there’s one rare, strange virtue in thy speeches,\n",
    "The secret of their mastery—they are short.\n",
    "\n",
    "The monarch mind, the mystery of commanding,\n",
    "The birth-hour gift, the art Napoleon,\n",
    "Of winning, fettering, moulding, wielding, banding\n",
    "The hearts of millions till they move as one:\n",
    "\n",
    "Thou hast it. At thy bidding men have crowded\n",
    "The road to death as to a festival;\n",
    "And minstrels, at their sepulchres, have shrouded\n",
    "With banner-folds of glory the dark pall.\n",
    "\n",
    "Who will believe? Not I—for in deceiving\n",
    "Lies the dear charm of life’s delightful dream;\n",
    "I cannot spare the luxury of believing\n",
    "That all things beautiful are what they seem;\n",
    "\n",
    "Who will believe that, with a smile whose blessing\n",
    "Would, like the Patriarch’s, soothe a dying hour,\n",
    "With voice as low, as gentle, and caressing,\n",
    "As e’er won maiden’s lip in moonlit bower:\n",
    "\n",
    "With look like patient Job’s eschewing evil;\n",
    "With motions graceful as a bird’s in air;\n",
    "Thou art, in sober truth, the veriest devil\n",
    "That e’er clinched fingers in a captive’s hair!\n",
    "\n",
    "That in thy breast there springs a poison fountain,\n",
    "Deadlier than that where bathes the Upas-tree;\n",
    "And in thy wrath a nursing cat-o’-mountain\n",
    "Is calm as her babe's sleep compared with thee!\n",
    "\n",
    "And underneath that face, like summer ocean’s,\n",
    "Its lip as moveless, and its cheek as clear,\n",
    "Slumbers a whirlwind of the heart’s emotions,\n",
    "Love, hatred, pride, hope, sorrow—all save fear:\n",
    "\n",
    "Love—for thy land, as if she were thy daughter,\n",
    "Her pipe in peace, her tomahawk in wars;\n",
    "Hatred—of missionaries and cold water;\n",
    "Pride—in thy rifle-trophies and thy scars;\n",
    "\n",
    "Hope—that thy wrongs may be, by the Great Spirit,\n",
    "Remembered and revenged when thou art gone;\n",
    "Sorrow—that none are left thee to inherit\n",
    "Thy name, thy fame, thy passions, and thy throne!'''\n",
    "\n",
    "# Function to analyze text features\n",
    "def analyze_text(text):\n",
    "    sentences = sent_tokenize(text)\n",
    "    avg_len = sum(len(word_tokenize(sent)) for sent in sentences) / len(sentences) if sentences else 0\n",
    "    \n",
    "    pos_tags = pos_tag(word_tokenize(text))\n",
    "    pos_freq = Counter(tag for word, tag in pos_tags)\n",
    "    \n",
    "    punctuation = Counter(char for char in text if char in '.,;!?')\n",
    "    \n",
    "    return avg_len, pos_freq, punctuation\n",
    "\n",
    "# Analyze actual author's corpus\n",
    "author_avg_lengths = []\n",
    "author_pos_freqs = Counter()\n",
    "author_punctuations = Counter()\n",
    "\n",
    "for text in actual_author_texts:\n",
    "    avg_len, pos_freq, punctuation = analyze_text(text)\n",
    "    author_avg_lengths.append(avg_len)\n",
    "    author_pos_freqs.update(pos_freq)\n",
    "    author_punctuations.update(punctuation)\n",
    "\n",
    "# Average statistics for the actual author\n",
    "author_avg_length = statistics.mean(author_avg_lengths) if author_avg_lengths else 0\n",
    "author_pos_freqs_normalized = {k: v / len(actual_author_texts) for k, v in author_pos_freqs.items()}\n",
    "author_punctuations_normalized = {k: v / len(actual_author_texts) for k, v in author_punctuations.items()}\n",
    "\n",
    "# Analyze the first disputed text\n",
    "disputed_avg_length_1, disputed_pos_freqs_1, disputed_punctuations_1 = analyze_text(disputed_text_1)\n",
    "\n",
    "# Analyze the second disputed text\n",
    "disputed_avg_length_2, disputed_pos_freqs_2, disputed_punctuations_2 = analyze_text(disputed_text_2)\n",
    "\n",
    "# Analyze the third disputed text\n",
    "disputed_avg_length_3, disputed_pos_freqs_3, disputed_punctuations_3 = analyze_text(disputed_text_3)\n",
    "\n",
    "# Compare sentence lengths\n",
    "print(f\"Average Sentence Length - Actual Author: {author_avg_length}\")\n",
    "print(f\"Disputed Text 1: {disputed_avg_length_1}, Disputed Text 2: {disputed_avg_length_2}, Disputed Text 3: {disputed_avg_length_3}\")\n",
    "\n",
    "# Compare POS frequencies\n",
    "print(f\"POS Frequency - Actual Author: {author_pos_freqs_normalized}\")\n",
    "print(f\"Disputed Text 1: {disputed_pos_freqs_1}\")\n",
    "print(f\"Disputed Text 2: {disputed_pos_freqs_2}\")\n",
    "print(f\"Disputed Text 3: {disputed_pos_freqs_3}\")\n",
    "\n",
    "# Compare punctuation usage\n",
    "print(f\"Punctuation - Actual Author: {author_punctuations_normalized}\")\n",
    "print(f\"Punctuation - Disputed Text 1: {disputed_punctuations_1}\")\n",
    "print(f\"Punctuation - Disputed Text 2: {disputed_punctuations_2}\")\n",
    "print(f\"Punctuation - Disputed Text 3: {disputed_punctuations_3}\")\n"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.11.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
